<!DOCTYPE html>
<html>
<head>
    <title>Demo</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="jquery.jstree.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            
            $(function () {
            	$("#demo1").jstree({ 
            		"dnd" : {
            			"drop_finish" : function () { 
            				alert("DROP"); 
            			},
            			"drag_check" : function (data) {
            				if(data.r.attr("id") == "phtml_1") {
            					return false;
            				}
            				return { 
            					after : false, 
            					before : false, 
            					inside : true 
            				};
            			},
            			"drag_finish" : function (data) { 
            				alert("DRAG OK"); 
            			}
            		},
            		"json_data" : {
            			"data" : [
            				{ 
            					"data" : "CURRICULUM VITAE A", 
            					"children" : [ 
            					             	{
            					             		"data" : "CategoryA",
            					            		"children" : [
            					            		             	{
            					            		             		"data" : "ItemA",
            					            		             		"children" : [
            					            		             		             	"ContentA",
            					            		             		             	"ContentB"
            					            		             		             ]
            					            		             	}
            					            		             ]
            					             	},
            					             	
            					             	{
            					             		"data" : "CategoryB",
            					             		"children" : [
            					             		             	{
            					             		             		"data" : "ItemB",
            					             		             		"children" : [
            					             		             		             	"ContentC" 
            					             		             		             ]
            					             		             	} 
            					             		             ]
            					             	}
            					             ]
            				}
            			]
            		},
            		
            		"plugins" : [ "themes", "json_data", "dnd" ],
            		
            		"core" : {
                	    "animation" : 0
                	}
            		
            	}).bind("select_node.jstree", function (e, data) { alert(data.rslt.obj.data("id")); });
            	
            });
        });
        
    </script>
</head>
<body>
    <div id="demo1">
        </div>
</body>
</html>